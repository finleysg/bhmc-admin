{
	"feature": "Event Validation Page",
	"description": "Add /events/{id}/status page to display event configuration status and provide admin actions",
	"items": [
		{
			"id": 1,
			"category": "api",
			"description": "Add getAvailableSpots method to registration service",
			"details": "Add method to apps/api/src/registration/services/registration.service.ts that calculates available spots. For canChoose events: count slots with status=AVAILABLE vs total slots. For non-canChoose: registrationMaximum minus confirmed registrations.",
			"stepsToVerify": [
				"Method exists in registration.service.ts",
				"Returns { availableSpots: number, totalSpots: number }",
				"Handles canChoose events by counting slot statuses",
				"Handles non-canChoose events using registrationMaximum"
			],
			"passes": true
		},
		{
			"id": 2,
			"category": "api",
			"description": "Add available-spots endpoint to registration controller",
			"details": "Add GET /registration/:eventId/available-spots endpoint to apps/api/src/registration/registration.controller.ts that calls the service method.",
			"stepsToVerify": [
				"Endpoint exists at GET /registration/:eventId/available-spots",
				"Returns JSON with availableSpots and totalSpots",
				"Returns 404 for non-existent event"
			],
			"passes": true
		},
		{
			"id": 3,
			"category": "web-api",
			"description": "Add available-spots Next.js API route",
			"details": "Create apps/web/app/api/registration/[eventId]/available-spots/route.ts that proxies to NestJS API.",
			"stepsToVerify": [
				"File exists at correct path",
				"GET handler proxies to NestJS /registration/{eventId}/available-spots",
				"Uses fetchWithAuth pattern"
			],
			"passes": true
		},
		{
			"id": 4,
			"category": "web-api",
			"description": "Add create-slots Next.js API route",
			"details": "Create apps/web/app/api/registration/[eventId]/create-slots/route.ts that proxies POST to Django /events/{id}/create_slots/.",
			"stepsToVerify": [
				"File exists at correct path",
				"POST handler proxies to Django endpoint",
				"Uses DJANGO_API_URL env var"
			],
			"passes": false
		},
		{
			"id": 5,
			"category": "web-api",
			"description": "Add append-teetime Next.js API route",
			"details": "Create apps/web/app/api/registration/[eventId]/append-teetime/route.ts that proxies PUT to Django /events/{id}/append_teetime/.",
			"stepsToVerify": [
				"File exists at correct path",
				"PUT handler proxies to Django endpoint",
				"Uses DJANGO_API_URL env var"
			],
			"passes": false
		},
		{
			"id": 6,
			"category": "web-api",
			"description": "Add event status Next.js API route",
			"details": "Create apps/web/app/api/events/[id]/status/route.ts that aggregates: event data, documents count from Django, available spots from NestJS. Returns combined EventStatusInfo.",
			"stepsToVerify": [
				"File exists at correct path",
				"Fetches event from Django",
				"Fetches documents count from Django /documents/?event_id={id}",
				"Fetches available spots from NestJS",
				"Returns combined response with event, documentsCount, availableSpots, totalSpots"
			],
			"passes": false
		},
		{
			"id": 7,
			"category": "web-ui",
			"description": "Create event status page with event info card",
			"details": "Create apps/web/app/events/[eventId]/status/page.tsx with Card 1 displaying: event name, start date/time, start type (Tee Times/Shotgun/N/A), signup dates in local time, available spots.",
			"stepsToVerify": [
				"Page exists and renders at /events/{id}/status",
				"Shows event name",
				"Shows start date and time",
				"Shows start type as human-readable text",
				"Shows all 4 signup dates formatted in local timezone (not UTC)",
				"Shows available spots as X / Y format"
			],
			"passes": false
		},
		{
			"id": 8,
			"category": "web-ui",
			"description": "Add status badges to status page",
			"details": "Add second card (no title) with status badges: Slots Created (canChoose only), Golf Genius Integration, Documents Uploaded. Use green badge for ok, warning badge for not ready.",
			"stepsToVerify": [
				"Second card has no title",
				"Slots Created badge shows for canChoose events only",
				"Slots Created shows green if totalSlots > 0, warning otherwise",
				"Golf Genius shows green if event.ggId exists, warning otherwise",
				"Documents shows green if documentsCount > 0, warning otherwise"
			],
			"passes": false
		},
		{
			"id": 9,
			"category": "web-ui",
			"description": "Add Create/Recreate Slots action with confirmation",
			"details": "Add button to second card for canChoose events. Label is 'Create Slots' if no slots, 'Recreate Slots' if slots exist. Recreate shows confirmation modal warning slots will be deleted.",
			"stepsToVerify": [
				"Button only shows for canChoose events",
				"Button label is 'Create Slots' when totalSlots === 0",
				"Button label is 'Recreate Slots' when totalSlots > 0",
				"Clicking Recreate shows confirmation modal",
				"Modal warns that existing slots will be deleted",
				"Confirming calls POST /api/registration/{eventId}/create-slots",
				"Page refreshes data after success"
			],
			"passes": false
		},
		{
			"id": 10,
			"category": "web-ui",
			"description": "Add Add Tee Time action",
			"details": "Add button to second card for canChoose events. Disabled when no slots exist. Calls PUT /api/registration/{eventId}/append-teetime.",
			"stepsToVerify": [
				"Button only shows for canChoose events",
				"Button is disabled when totalSlots === 0",
				"Button is enabled when totalSlots > 0",
				"Clicking calls PUT endpoint",
				"Page refreshes data after success"
			],
			"passes": false
		},
		{
			"id": 11,
			"category": "web-ui",
			"description": "Add Django Admin link",
			"details": "Add link button that opens Django admin for the event in new tab. URL: ${NEXT_PUBLIC_DJANGO_URL}/admin/events/event/${id}/change/",
			"stepsToVerify": [
				"Link button exists",
				"Opens in new tab (target=_blank)",
				"URL is correctly constructed from env var",
				"Has rel=noopener noreferrer"
			],
			"passes": false
		},
		{
			"id": 12,
			"category": "web-ui",
			"description": "Add Event Status link to event hub page",
			"details": "Add LinkCard to apps/web/app/events/[eventId]/page.tsx for navigating to the status page.",
			"stepsToVerify": [
				"LinkCard exists on event hub page",
				"Has appropriate title and description",
				"Links to /events/{eventId}/status",
				"Has an appropriate icon"
			],
			"passes": false
		},
		{
			"id": 13,
			"category": "config",
			"description": "Replace NEXT_PUBLIC_DJANGO_API_URL with NEXT_PUBLIC_DJANGO_URL",
			"details": "Update env files to use NEXT_PUBLIC_DJANGO_URL as base URL. Update any existing code that uses NEXT_PUBLIC_DJANGO_API_URL to use new var with /api suffix.",
			"stepsToVerify": [
				"apps/web/.env.local has NEXT_PUBLIC_DJANGO_URL",
				"apps/web/.env.docker has NEXT_PUBLIC_DJANGO_URL",
				"docker-compose.yml has NEXT_PUBLIC_DJANGO_URL",
				"No references to NEXT_PUBLIC_DJANGO_API_URL remain",
				"Existing client-side Django API calls still work"
			],
			"passes": false
		}
	]
}
